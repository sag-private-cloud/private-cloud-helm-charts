<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/3.14.1/js-yaml.min.js"></script>
    <title>Helm Charts</title>

    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }
    </style>
</head>

<h1>Helm Charts</h1>

<ul id="helmChartList"></ul>

<h1>Helm Charts</h1>

<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Version</th>
        </tr>
    </thead>
    <tbody id="helmChartTableBody"></tbody>
</table>

<script>
    // Fetch the YAML file
    fetch('index.yaml')
        .then(response => response.text())
        .then(yamlText => {
            // Parse YAML into JSON
            const yamlObject = jsyaml.load(yamlText);

            // Get the entries object
            const entries = yamlObject.entries;

            // Get the table body element to append the table rows
            const helmChartTableBody = document.getElementById('helmChartTableBody');

            // Iterate through each entry and create a table row
            Object.keys(entries).forEach(entryKey => {
                const entry = entries[entryKey][0]; // Assuming each entry has only one item in the list

                // Create a table row
                const tableRow = document.createElement('tr');

                // Populate the table row with name, description, and version
                tableRow.innerHTML = `<td>${entry.name}</td>
                                      <td>${entry.description}</td>
                                      <td>${entry.version}</td>`;

                // Append the table row to the table body
                helmChartTableBody.appendChild(tableRow);
            });
        })
        .catch(error => console.error('Error fetching YAML:', error));
</script>

</body>
</html>
