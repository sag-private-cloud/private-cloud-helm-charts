<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/3.14.1/js-yaml.min.js"></script>
    <title>Helm Charts</title>

    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }
    </style>
</head>

<h1>Helm Charts</h1>

<ul id="helmChartList"></ul>

<script>
    // Fetch the YAML file
    fetch('index.yaml')
        .then(response => response.text())
        .then(yamlText => {
            // Parse YAML into JSON
            const yamlObject = jsyaml.load(yamlText);

            // Get the entries object
            const entries = yamlObject.entries;

            // Get the ul element to append the list items
            const helmChartList = document.getElementById('helmChartList');

            // Iterate through each entry and create a list item
            Object.keys(entries).forEach(entryKey => {
                const entry = entries[entryKey][0]; // Assuming each entry has only one item in the list

                // Create a table row
                const tableRow = document.createElement('tr');

                // Populate the table row with name, description, and version
                tableRow.innerHTML = `<td>${entry.name}</td>
                                      <td>${entry.description}</td>
                                      <td>${entry.version}</td>`;

                // Append the table row to the table body
                helmChartTableBody.appendChild(tableRow);
            });
        })
        .catch(error => console.error('Error fetching YAML:', error));
</script>

</body>
</html>
